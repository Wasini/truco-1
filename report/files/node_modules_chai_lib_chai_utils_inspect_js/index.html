<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - node_modules/chai/lib/chai/utils/inspect.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet">
  <link href="../../assets/css/plato.css" rel="stylesheet">
  <link href="../../assets/css/plato-file.css" rel="stylesheet">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="http://github.com/es-analysis/plato">Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>node_modules/chai/lib/chai/utils/inspect.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">61.56</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">335</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">73.72</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">3.05</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">// This is (almost) directly from Node.js utils
// https://github.com/joyent/node/blob/f8c335d0caf47f16d31413f89aa28eda3878e3aa/lib/util.js

var getName = require(&#039;./getName&#039;);
var getProperties = require(&#039;./getProperties&#039;);
var getEnumerableProperties = require(&#039;./getEnumerableProperties&#039;);

module.exports = inspect;

/**
 * Echos the value of a value. Trys to print the value out
 * in the best way possible given the different types.
 *
 * @param {Object} obj The object to print out.
 * @param {Boolean} showHidden Flag that shows hidden (not enumerable)
 *    properties of objects.
 * @param {Number} depth Depth in which to descend in object. Default is 2.
 * @param {Boolean} colors Flag to turn on ANSI escape codes to color the
 *    output. Default is false (no coloring).
 * @namespace Utils
 * @name inspect
 */
function inspect(obj, showHidden, depth, colors) {
  var ctx = {
    showHidden: showHidden,
    seen: [],
    stylize: function (str) { return str; }
  };
  return formatValue(ctx, obj, (typeof depth === &#039;undefined&#039; ? 2 : depth));
}

// Returns true if object is a DOM element.
var isDOMElement = function (object) {
  if (typeof HTMLElement === &#039;object&#039;) {
    return object instanceof HTMLElement;
  } else {
    return object &amp;&amp;
      typeof object === &#039;object&#039; &amp;&amp;
      object.nodeType === 1 &amp;&amp;
      typeof object.nodeName === &#039;string&#039;;
  }
};

function formatValue(ctx, value, recurseTimes) {
  // Provide a hook for user-specified inspect functions.
  // Check that value is an object with an inspect function on it
  if (value &amp;&amp; typeof value.inspect === &#039;function&#039; &amp;&amp;
      // Filter out the util module, it&#039;s inspect function is special
      value.inspect !== exports.inspect &amp;&amp;
      // Also filter out any prototype objects using the circular check.
      !(value.constructor &amp;&amp; value.constructor.prototype === value)) {
    var ret = value.inspect(recurseTimes);
    if (typeof ret !== &#039;string&#039;) {
      ret = formatValue(ctx, ret, recurseTimes);
    }
    return ret;
  }

  // Primitive types cannot have properties
  var primitive = formatPrimitive(ctx, value);
  if (primitive) {
    return primitive;
  }

  // If this is a DOM element, try to get the outer HTML.
  if (isDOMElement(value)) {
    if (&#039;outerHTML&#039; in value) {
      return value.outerHTML;
      // This value does not have an outerHTML attribute,
      //   it could still be an XML element
    } else {
      // Attempt to serialize it
      try {
        if (document.xmlVersion) {
          var xmlSerializer = new XMLSerializer();
          return xmlSerializer.serializeToString(value);
        } else {
          // Firefox 11- do not support outerHTML
          //   It does, however, support innerHTML
          //   Use the following to render the element
          var ns = &quot;http://www.w3.org/1999/xhtml&quot;;
          var container = document.createElementNS(ns, &#039;_&#039;);

          container.appendChild(value.cloneNode(false));
          html = container.innerHTML
            .replace(&#039;&gt;&lt;&#039;, &#039;&gt;&#039; + value.innerHTML + &#039;&lt;&#039;);
          container.innerHTML = &#039;&#039;;
          return html;
        }
      } catch (err) {
        // This could be a non-native DOM implementation,
        //   continue with the normal flow:
        //   printing the element as if it is an object.
      }
    }
  }

  // Look up the keys of the object.
  var visibleKeys = getEnumerableProperties(value);
  var keys = ctx.showHidden ? getProperties(value) : visibleKeys;

  // Some type of object without properties can be shortcutted.
  // In IE, errors have a single `stack` property, or if they are vanilla `Error`,
  // a `stack` plus `description` property; ignore those for consistency.
  if (keys.length === 0 || (isError(value) &amp;&amp; (
      (keys.length === 1 &amp;&amp; keys[0] === &#039;stack&#039;) ||
      (keys.length === 2 &amp;&amp; keys[0] === &#039;description&#039; &amp;&amp; keys[1] === &#039;stack&#039;)
     ))) {
    if (typeof value === &#039;function&#039;) {
      var name = getName(value);
      var nameSuffix = name ? &#039;: &#039; + name : &#039;&#039;;
      return ctx.stylize(&#039;[Function&#039; + nameSuffix + &#039;]&#039;, &#039;special&#039;);
    }
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), &#039;regexp&#039;);
    }
    if (isDate(value)) {
      return ctx.stylize(Date.prototype.toUTCString.call(value), &#039;date&#039;);
    }
    if (isError(value)) {
      return formatError(value);
    }
  }

  var base = &#039;&#039;, array = false, braces = [&#039;{&#039;, &#039;}&#039;];

  // Make Array say that they are Array
  if (isArray(value)) {
    array = true;
    braces = [&#039;[&#039;, &#039;]&#039;];
  }

  // Make functions say that they are functions
  if (typeof value === &#039;function&#039;) {
    var name = getName(value);
    var nameSuffix = name ? &#039;: &#039; + name : &#039;&#039;;
    base = &#039; [Function&#039; + nameSuffix + &#039;]&#039;;
  }

  // Make RegExps say that they are RegExps
  if (isRegExp(value)) {
    base = &#039; &#039; + RegExp.prototype.toString.call(value);
  }

  // Make dates with properties first say the date
  if (isDate(value)) {
    base = &#039; &#039; + Date.prototype.toUTCString.call(value);
  }

  // Make error with message first say the error
  if (isError(value)) {
    return formatError(value);
  }

  if (keys.length === 0 &amp;&amp; (!array || value.length == 0)) {
    return braces[0] + base + braces[1];
  }

  if (recurseTimes &lt; 0) {
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), &#039;regexp&#039;);
    } else {
      return ctx.stylize(&#039;[Object]&#039;, &#039;special&#039;);
    }
  }

  ctx.seen.push(value);

  var output;
  if (array) {
    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);
  } else {
    output = keys.map(function(key) {
      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);
    });
  }

  ctx.seen.pop();

  return reduceToSingleString(output, base, braces);
}


function formatPrimitive(ctx, value) {
  switch (typeof value) {
    case &#039;undefined&#039;:
      return ctx.stylize(&#039;undefined&#039;, &#039;undefined&#039;);

    case &#039;string&#039;:
      var simple = &#039;\&#039;&#039; + JSON.stringify(value).replace(/^&quot;|&quot;$/g, &#039;&#039;)
                                               .replace(/&#039;/g, &quot;\\&#039;&quot;)
                                               .replace(/\\&quot;/g, &#039;&quot;&#039;) + &#039;\&#039;&#039;;
      return ctx.stylize(simple, &#039;string&#039;);

    case &#039;number&#039;:
      if (value === 0 &amp;&amp; (1/value) === -Infinity) {
        return ctx.stylize(&#039;-0&#039;, &#039;number&#039;);
      }
      return ctx.stylize(&#039;&#039; + value, &#039;number&#039;);

    case &#039;boolean&#039;:
      return ctx.stylize(&#039;&#039; + value, &#039;boolean&#039;);
  }
  // For some reason typeof null is &quot;object&quot;, so special case here.
  if (value === null) {
    return ctx.stylize(&#039;null&#039;, &#039;null&#039;);
  }
}


function formatError(value) {
  return &#039;[&#039; + Error.prototype.toString.call(value) + &#039;]&#039;;
}


function formatArray(ctx, value, recurseTimes, visibleKeys, keys) {
  var output = [];
  for (var i = 0, l = value.length; i &lt; l; ++i) {
    if (Object.prototype.hasOwnProperty.call(value, String(i))) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          String(i), true));
    } else {
      output.push(&#039;&#039;);
    }
  }
  keys.forEach(function(key) {
    if (!key.match(/^\d+$/)) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          key, true));
    }
  });
  return output;
}


function formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {
  var name, str;
  if (value.__lookupGetter__) {
    if (value.__lookupGetter__(key)) {
      if (value.__lookupSetter__(key)) {
        str = ctx.stylize(&#039;[Getter/Setter]&#039;, &#039;special&#039;);
      } else {
        str = ctx.stylize(&#039;[Getter]&#039;, &#039;special&#039;);
      }
    } else {
      if (value.__lookupSetter__(key)) {
        str = ctx.stylize(&#039;[Setter]&#039;, &#039;special&#039;);
      }
    }
  }
  if (visibleKeys.indexOf(key) &lt; 0) {
    name = &#039;[&#039; + key + &#039;]&#039;;
  }
  if (!str) {
    if (ctx.seen.indexOf(value[key]) &lt; 0) {
      if (recurseTimes === null) {
        str = formatValue(ctx, value[key], null);
      } else {
        str = formatValue(ctx, value[key], recurseTimes - 1);
      }
      if (str.indexOf(&#039;\n&#039;) &gt; -1) {
        if (array) {
          str = str.split(&#039;\n&#039;).map(function(line) {
            return &#039;  &#039; + line;
          }).join(&#039;\n&#039;).substr(2);
        } else {
          str = &#039;\n&#039; + str.split(&#039;\n&#039;).map(function(line) {
            return &#039;   &#039; + line;
          }).join(&#039;\n&#039;);
        }
      }
    } else {
      str = ctx.stylize(&#039;[Circular]&#039;, &#039;special&#039;);
    }
  }
  if (typeof name === &#039;undefined&#039;) {
    if (array &amp;&amp; key.match(/^\d+$/)) {
      return str;
    }
    name = JSON.stringify(&#039;&#039; + key);
    if (name.match(/^&quot;([a-zA-Z_][a-zA-Z_0-9]*)&quot;$/)) {
      name = name.substr(1, name.length - 2);
      name = ctx.stylize(name, &#039;name&#039;);
    } else {
      name = name.replace(/&#039;/g, &quot;\\&#039;&quot;)
                 .replace(/\\&quot;/g, &#039;&quot;&#039;)
                 .replace(/(^&quot;|&quot;$)/g, &quot;&#039;&quot;);
      name = ctx.stylize(name, &#039;string&#039;);
    }
  }

  return name + &#039;: &#039; + str;
}


function reduceToSingleString(output, base, braces) {
  var numLinesEst = 0;
  var length = output.reduce(function(prev, cur) {
    numLinesEst++;
    if (cur.indexOf(&#039;\n&#039;) &gt;= 0) numLinesEst++;
    return prev + cur.length + 1;
  }, 0);

  if (length &gt; 60) {
    return braces[0] +
           (base === &#039;&#039; ? &#039;&#039; : base + &#039;\n &#039;) +
           &#039; &#039; +
           output.join(&#039;,\n  &#039;) +
           &#039; &#039; +
           braces[1];
  }

  return braces[0] + base + &#039; &#039; + output.join(&#039;, &#039;) + &#039; &#039; + braces[1];
}

function isArray(ar) {
  return Array.isArray(ar) ||
         (typeof ar === &#039;object&#039; &amp;&amp; objectToString(ar) === &#039;[object Array]&#039;);
}

function isRegExp(re) {
  return typeof re === &#039;object&#039; &amp;&amp; objectToString(re) === &#039;[object RegExp]&#039;;
}

function isDate(d) {
  return typeof d === &#039;object&#039; &amp;&amp; objectToString(d) === &#039;[object Date]&#039;;
}

function isError(e) {
  return typeof e === &#039;object&#039; &amp;&amp; objectToString(e) === &#039;[object Error]&#039;;
}

function objectToString(o) {
  return Object.prototype.toString.call(o);
}</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ cyclomatic }} <br>
    Length : {{ halstead.length }} <br>
    Difficulty : {{ halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
